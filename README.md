# NAS 配置脚本

这是一个用于在 Linux 系统上配置个人 NAS (Network-Attached Storage) 的自动化脚本。它帮助你快速完成以下步骤：

1. 配置动态域名解析 (DDNS)
2. 安装并配置 SSH 服务器
3. 安装并配置 Samba 共享服务
4. 配置防火墙

此脚本适用于 Ubuntu 或其他基于 Debian 的 Linux 系统。

## 准备工作

在运行此脚本之前，确保你已完成以下准备工作：

1. 确保家里有宽带网络和路由器，并且已配置好网络连接。
2. 确保你的系统已经连接到互联网，并且能够访问外部网络。
3. 准备一个有效的域名，脚本会使用动态 DNS 更新你的公网 IP 地址。
4. 如果使用的是 Linux 系统，需要具有 `sudo` 权限来执行脚本。

## 使用方法

### 1. 下载脚本和 ddns-go 安装包

首先，从 GitHub 仓库下载该脚本，并将 `ddns-go.tar.gz` 安装包放在与脚本相同的目录中。你可以从 [ddns-go 的 GitHub Releases 页面](https://github.com/jeessy2/ddns-go/releases) 下载适合的版本。

### 2. 运行脚本

在终端中进入脚本所在的目录，然后运行脚本：

```bash
sudo bash nas_setup.sh
```

脚本会执行以下步骤：

1. 安装并禁用 UFW 防火墙。
2. 安装并配置 ddns-go，用于动态更新你的公网 IP 地址。
3. 安装并配置 OpenSSH 服务器，使你可以远程访问服务器。
4. 安装并配置 Samba 服务，设置用户的主目录作为共享文件夹。
5. 配置 Samba 用户密码，允许通过 Samba 进行文件共享。

### 3. 配置动态 DNS

脚本会安装并配置 `ddns-go`，你需要访问 `http://127.0.0.1:9876` 来配置你的域名服务商。根据你的需求选择服务商，并进行相关的配置。

### 4. 配置 Samba

脚本会配置 Samba 共享服务，将用户的主目录设置为共享文件夹，用户可以在 Windows 系统中通过 SMB 协议访问这个共享文件夹。

**Windows 网络硬盘配置：**

- 打开“此电脑”，点击“映射网络驱动器”。
- 输入网络路径 `\\<你的域名或IP地址>\SharedHome`。
- 输入用户名和密码进行登录。用户名是你的系统用户名，密码是你在运行脚本时设置的 Samba 密码。

### 5. 配置 SSH

脚本会自动安装并启用 OpenSSH 服务器，这样你就可以通过 SSH 连接到你的服务器。通过 SSH，你可以远程管理你的 NAS 系统。

使用以下命令连接到服务器：

```bash
ssh <username>@<你的域名>
```

输入相应的密码即可登录。

## 注意事项

1. **安全性**：本脚本默认禁用防火墙。如果你打算公开暴露服务，建议配置适当的防火墙策略。
2. **Samba 密码**：在配置 Samba 密码时，确保使用一个安全的密码，避免暴露给未授权用户。
3. **网络配置**：请确保你的网络环境允许通过所配置的端口（如 22 用于 SSH、445 用于 Samba）进行访问。

## 许可

此脚本基于 MIT 许可协议发布。

## 支持

如遇到问题，请在 GitHub 仓库中提交 Issues，我们将尽力帮助解决。
